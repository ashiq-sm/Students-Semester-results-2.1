student_data = {
    '2020431004': {
        'Name': 'MD. SAIFULLAH BAHAR',
        'GEB 211': 3.25,
        'GEB 212': 2.25,
        'GEB 213': 3.25,
        'GEB 221': 3.5,
        'GEB 223': 3.25,
        'GEB 224': 3.0,
        'GEB 225': 3.25
    },
    '2020431016': {
        'Name': 'ARIFUL ISLAM FAISAL',
        'GEB 211': 3.5,
        'GEB 212': 3.25,
        'GEB 213': 3.5,
        'GEB 221': 3.25,
        'GEB 223': 3.0,
        'GEB 224': 3.75,
        'GEB 225': 3.5
    },
    '2020431038': {
        'Name': 'MD. ABDULLAH AL MASUD',
        'GEB 211': 0.0,
        'GEB 212': 0.0,  # Assuming missing grade as 0.0 since not listed
        'GEB 213': 0.0,
        'GEB 221': 0.0,
        'GEB 223': 0.0,
        'GEB 224': 0.0,
        'GEB 225': 0.0
    },
    '2021431003': {
        'Name': 'SAMAYLA JAHAN',
        'GEB 211': 3.25,
        'GEB 212': 3.75,
        'GEB 213': 3.5,
        'GEB 221': 3.25,
        'GEB 223': 3.0,
        'GEB 224': 3.75,
        'GEB 225': 3.0
    },
    '2021431006': {
        'Name': 'AFIA TASNIM NAFISA',
        'GEB 211': 4.0,
        'GEB 212': 3.75,
        'GEB 213': 4.0,
        'GEB 221': 3.75,
        'GEB 223': 3.5,
        'GEB 224': 3.5,
        'GEB 225': 4.0
    },
    '2021431007': {
        'Name': 'MD. ROMAN AHMED',
        'GEB 211': 3.75,
        'GEB 212': 3.75,
        'GEB 213': 4.0,
        'GEB 221': 4.0,
        'GEB 223': 3.25,
        'GEB 224': 3.75,
        'GEB 225': 3.75
    },
    '2021431008': {
        'Name': 'S. M. ASHIKUR RAHMAN',
        'GEB 211': 3.5,
        'GEB 212': 3.75,
        'GEB 213': 3.75,
        'GEB 221': 3.25,
        'GEB 223': 3.5,
        'GEB 224': 4.0,
        'GEB 225': 3.5
    },
    '2021431009': {
        'Name': 'MD. ADNAN MEHEDI.',
        'GEB 211': 3.75,
        'GEB 212': 3.75,
        'GEB 213': 4.0,
        'GEB 221': 3.5,
        'GEB 223': 3.25,
        'GEB 224': 4.0,
        'GEB 225': 3.75
    },
    '2021431010': {
        'Name': 'ZUAIRIA KABIR ZUHA',
        'GEB 211': 4.0,
        'GEB 212': 3.75,
        'GEB 213': 4.0,
        'GEB 221': 3.75,
        'GEB 223': 3.75,
        'GEB 224': 3.0,
        'GEB 225': 4.0
    },
    '2021431011': {
        'Name': 'MST. ASIFA ANAN',
        'GEB 211': 3.75,
        'GEB 212': 3.75,
        'GEB 213': 4.0,
        'GEB 221': 3.75,
        'GEB 223': 3.25,
        'GEB 224': 3.75,
        'GEB 225': 4.0
    },
    '2021431012': {
        'Name': 'HAFSA KHANAM',
        'GEB 211': 3.75,
        'GEB 212': 3.25,
        'GEB 213': 3.75,
        'GEB 221': 3.75,
        'GEB 223': 3.25,
        'GEB 224': 3.75,
        'GEB 225': 3.75
    },
    '2021431013': {
        'Name': 'MUKTADIR AL-MAHMUD',
        'GEB 211': 3.5,
        'GEB 212': 3.5,
        'GEB 213': 3.75,
        'GEB 221': 3.5,
        'GEB 223': 3.25,
        'GEB 224': 3.75,
        'GEB 225': 3.75
    },
    '2021431014': {
        'Name': 'MASHKURA ZAMAN MUKTY',
        'GEB 211': 3.75,
        'GEB 212': 3.75,
        'GEB 213': 3.75,
        'GEB 221': 3.5,
        'GEB 223': 3.5,
        'GEB 224': 3.5,
        'GEB 225': 3.75
    },
    '2021431015': {
        'Name': 'SUDEEPTA DAS',
        'GEB 211': 4.0,
        'GEB 212': 3.25,
        'GEB 213': 4.0,
        'GEB 221': 3.75,
        'GEB 223': 3.5,
        'GEB 224': 3.75,
        'GEB 225': 3.25
    },
    '2021431016': {
        'Name': 'MOHAMMAD ASHIQ UN NUR',
        'GEB 211': 3.75,
        'GEB 212': 2.25,
        'GEB 213': 3.5,
        'GEB 221': 3.25,
        'GEB 223': 0.0,
        'GEB 224': 4.0,
        'GEB 225': 4.0
    },
    '2021431017': {
        'Name': 'ZANNATUL MAOYA TALUKDER',
        'GEB 211': 4.0,
        'GEB 212': 3.5,
        'GEB 213': 4.0,
        'GEB 221': 3.5,
        'GEB 223': 3.25,
        'GEB 224': 3.25,
        'GEB 225': 3.25
    },
    '2021431018': {
        'Name': 'ONONNA ISLAM',
        'GEB 211': 3.75,
        'GEB 212': 3.75,
        'GEB 213': 3.75,
        'GEB 221': 4.0,
        'GEB 223': 3.25,
        'GEB 224': 4.0,
        'GEB 225': 3.75
    },
    '2021431020': {
        'Name': 'F. M. ASIF RAHMAN',
        'GEB 211': 4.0,
        'GEB 212': 3.0,
        'GEB 213': 2.75,
        'GEB 221': 2.75,
        'GEB 223': 2.25,
        'GEB 224': 3.25,
        'GEB 225': 2.75
    },
    '2021431021': {
        'Name': 'MD. YOUNUS KABIR',
        'GEB 211': 3.75,
        'GEB 212': 3.75,
        'GEB 213': 3.75,
        'GEB 221': 3.75,
        'GEB 223': 3.0,
        'GEB 224': 3.5,
        'GEB 225': 3.25
    },
    '2021431022': {
        'Name': 'SAMINA AFRIN NISHA',
        'GEB 211': 3.75,
        'GEB 212': 4.0,
        'GEB 213': 4.0,
        'GEB 221': 4.0,
        'GEB 223': 3.5,
        'GEB 224': 3.75,
        'GEB 225': 4.0
    },
    '2021431023': {
        'Name': 'SHRABONI AKTER',
        'GEB 211': 3.75,
        'GEB 212': 4.0,
        'GEB 213': 4.0,
        'GEB 221': 3.75,
        'GEB 223': 3.25,
        'GEB 224': 3.5,
        'GEB 225': 3.75
    },
    '2021431024': {
        'Name': 'HASIB AHMED SIDDIQUI RAFI',
        'GEB 211': 4.0,
        'GEB 212': 3.75,
        'GEB 213': 4.0,
        'GEB 221': 3.75,
        'GEB 223': 3.5,
        'GEB 224': 4.0,
        'GEB 225': 4.0
    },
    '2021431025': {
        'Name': 'MD. MISBAHUR RAHMAN JAHID',
        'GEB 211': 3.25,
        'GEB 212': 3.75,
        'GEB 213': 2.0,
        'GEB 221': 3.25,
        'GEB 223': 3.25,
        'GEB 224': 2.75,
        'GEB 225': 2.5
    },
    '2021431026': {
        'Name': 'SAJED AHMED',
        'GEB 211': 3.25,
        'GEB 212': 3.75,
        'GEB 213': 0.0,
        'GEB 221': 0.0,
        'GEB 223': 3.25,
        'GEB 224': 3.0,
        'GEB 225': 3.25
    },
    '2021431027': {
        'Name': 'SAMIRA ISLAM',
        'GEB 211': 4.0,
        'GEB 212': 3.75,
        'GEB 213': 4.0,
        'GEB 221': 3.75,
        'GEB 223': 3.75,
        'GEB 224': 3.75,
        'GEB 225': 3.75
    },
    '2021431028': {
        'Name': 'MD. SAIMUM MUBIN',
        'GEB 211': 3.5,
        'GEB 212': 3.75,
        'GEB 213': 3.5,
        'GEB 221': 3.5,
        'GEB 223': 3.0,
        'GEB 224': 3.0,
        'GEB 225': 3.0
    },
    '2021431029': {
        'Name': 'JAKIA SULTANA',
        'GEB 211': 3.5,
        'GEB 212': 3.75,
        'GEB 213': 3.25,
        'GEB 221': 3.25,
        'GEB 223': 3.5,
        'GEB 224': 3.0,
        'GEB 225': 3.75
    },
    '2021431030': {
        'Name': 'ARGHA KANUNGO',
        'GEB 211': 3.5,
        'GEB 212': 3.5,
        'GEB 213': 2.75,
        'GEB 221': 3.5,
        'GEB 223': 3.25,
        'GEB 224': 3.25,
        'GEB 225': 3.25
    },
    '2021431031': {
        'Name': 'SHAKIBA JERIN CHOWDHURY',
        'GEB 211': 3.25,
        'GEB 212': 3.25,
        'GEB 213': 3.0,
        'GEB 221': 2.75,
        'GEB 223': 3.0,
        'GEB 224': 3.0,
        'GEB 225': 3.0
    },
    '2021431032': {
        'Name': 'HAFIJUR RAHMAN',
        'GEB 211': 3.0,
        'GEB 212': 2.5,
        'GEB 213': 3.25,
        'GEB 221': 2.75,
        'GEB 223': 3.0,
        'GEB 224': 3.0,
        'GEB 225': 3.0
    },
    '2021431033': {
        'Name': 'MD. FARDIN FARUK',
        'GEB 211': 3.25,
        'GEB 212': 3.5,
        'GEB 213': 3.0,
        'GEB 221': 3.0,
        'GEB 223': 2.75,
        'GEB 224': 3.25,
        'GEB 225': 2.75
    },
    '2021431034': {
        'Name': 'MAHJABIN',
        'GEB 211': 3.75,
        'GEB 212': 3.75,
        'GEB 213': 3.75,
        'GEB 221': 4.0,
        'GEB 223': 3.75,
        'GEB 224': 3.75,
        'GEB 225': 3.75
    },
    '2021431035': {
        'Name': 'MST. JANNATUL MAWA SATHI',
        'GEB 211': 4.0,
        'GEB 212': 4.0,
        'GEB 213': 4.0,
        'GEB 221': 3.75,
        'GEB 223': 3.75,
        'GEB 224': 3.75,
        'GEB 225': 3.75
    },
    '2021431036': {
        'Name': 'SABBIR AHMAD ANTOR',
        'GEB 211': 4.0,
        'GEB 212': 4.0,
        'GEB 213': 3.75,
        'GEB 221': 3.75,
        'GEB 223': 3.75,
        'GEB 224': 3.75,
        'GEB 225': 3.75
    },
    '2021431037': {
        'Name': 'AHSANUL HAQUE NIAZ',
        'GEB 211': 3.5,
        'GEB 212': 3.25,
        'GEB 213': 4.0,
        'GEB 221': 3.25,
        'GEB 223': 3.75,
        'GEB 224': 3.75,
        'GEB 225': 3.75
    },
    '2021431038': {
        'Name': 'ANIMESH SINGHA',
        'GEB 211': 3.5,
        'GEB 212': 3.5,
        'GEB 213': 3.25,
        'GEB 221': 3.25,
        'GEB 223': 3.75,
        'GEB 224': 3.0,
        'GEB 225': 3.5
    }
}

def calculate_gpa(student):
    # Course metadata with credits
    course_metadata = {
        'GEB 211': {'credit': 3.0},
        'GEB 212': {'credit': 1.0},
        'GEB 213': {'credit': 3.0},
        'GEB 221': {'credit': 2.0},
        'GEB 223': {'credit': 3.0},
        'GEB 224': {'credit': 1.0},
        'GEB 225': {'credit': 3.0},
    }

    total_points = 0
    total_credits = 0

    for course, grade in student.items():
        if course != 'Name' and course in course_metadata:
            credit = course_metadata[course]['credit']
            total_points += grade * credit
            total_credits += credit

    return total_points / total_credits if total_credits > 0 else 0.0

def display_sorted_students(student_data):
    students_with_gpa = [
        {
            'Registration No.': reg_no,
            'Name': data['Name'],
            'GPA': calculate_gpa(data),
            **{course: grade for course, grade in data.items() if course != 'Name'}
        }
        for reg_no, data in student_data.items()
    ]

    sorted_students = sorted(students_with_gpa, key=lambda x: x['GPA'], reverse=True)

    # Print table header
    print(f"| {'Registration No.':<15} | {'Student\'s Name':<25} | {'GPA':<5} | {'GEB 211':<7} | {'GEB 212':<7} | {'GEB 213':<7} | {'GEB 221':<7} | {'GEB 223':<7} | {'GEB 224':<7} | {'GEB 225':<7} |")
    print("-" * 110)

    # Print each student's data
    for student in sorted_students:
        print(f"| {student['Registration No.']:<15} | {student['Name']:<25} | {student['GPA']:<5.2f} | {student.get('GEB 211', '-'):>7} | {student.get('GEB 212', '-'):>7} | {student.get('GEB 213', '-'):>7} | {student.get('GEB 221', '-'):>7} | {student.get('GEB 223', '-'):>7} | {student.get('GEB 224', '-'):>7} | {student.get('GEB 225', '-'):>7} |")

def calculate_course_averages(student_data):
    course_totals = {}
    course_counts = {}

    for student in student_data.values():
        for course, grade in student.items():
            if course != 'Name':
                if course not in course_totals:
                    course_totals[course] = 0
                    course_counts[course] = 0
                course_totals[course] += grade
                course_counts[course] += 1

    course_averages = {
        course: course_totals[course] / course_counts[course]
        for course in course_totals
    }

    return course_averages

def display_course_averages(student_data):
    course_averages = calculate_course_averages(student_data)

    # Course metadata
    course_metadata = {
        'GEB 211': {'title': 'Animal and Human Physiology', 'credit': 3.0},
        'GEB 212': {'title': 'Animal and Human Physiology Lab', 'credit': 1.0},
        'GEB 213': {'title': 'Molecular Biology', 'credit': 3.0},
        'GEB 221': {'title': 'Animal Reproduction and Embryology', 'credit': 2.0},
        'GEB 223': {'title': 'Biofertilizer and Renewable Energy', 'credit': 3.0},
        'GEB 224': {'title': 'Biofertilizer and Renewable Energy Lab', 'credit': 1.0},
        'GEB 225': {'title': 'Microbial Genetics', 'credit': 3.0},
    }

    # Print table header
    print(f"| {'Course Code':<12} | {'Course Title':<40} | {'Credit':<6} | {'Avg Grade Point':<15} |")
    print("-" * 80)

    # Print each course's average grade point
    for course, avg_grade in course_averages.items():
        metadata = course_metadata.get(course, {'title': 'Unknown', 'credit': '-'})
        print(f"| {course:<12} | {metadata['title']:<40} | {metadata['credit']:<6} | {avg_grade:<15.2f} |")

def display_top_students(student_data, n):
    students_with_gpa = [
        {
            'Registration No.': reg_no,
            'Name': data['Name'],
            'GPA': calculate_gpa(data),
            **{course: grade for course, grade in data.items() if course != 'Name'}
        }
        for reg_no, data in student_data.items()
    ]

    sorted_students = sorted(students_with_gpa, key=lambda x: x['GPA'], reverse=True)[:n]

    # Print table header
    print(f"| {'Registration No.':<15} | {'Student\'s Name':<25} | {'GPA':<5} | {'GEB 211':<7} | {'GEB 212':<7} | {'GEB 213':<7} | {'GEB 221':<7} | {'GEB 223':<7} | {'GEB 224':<7} | {'GEB 225':<7} |")
    print("-" * 110)

    # Print each student's data
    for student in sorted_students:
        print(f"| {student['Registration No.']:<15} | {student['Name']:<25} | {student['GPA']:<5.2f} | {student.get('GEB 211', '-'):>7} | {student.get('GEB 212', '-'):>7} | {student.get('GEB 213', '-'):>7} | {student.get('GEB 221', '-'):>7} | {student.get('GEB 223', '-'):>7} | {student.get('GEB 224', '-'):>7} | {student.get('GEB 225', '-'):>7} |")

# Call the function to display the sorted table
# display_sorted_students(student_data)
# Call the function to display course averages
display_course_averages(student_data)
# Example usage
print("\nTop Students:")

n = 10  # Change this value to display the top n students
display_top_students(student_data, n)